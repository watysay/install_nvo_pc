---
- name: a playbook to setup my local machine with my basic customizations
  hosts: local
  connection: local


  tasks:
  - name: get git version
    shell: "$(which git) --version | cut -d' ' -f3"
    register: git_version

  - name: show git version retrieved
    debug:
      var: git_version

  - name: retrieve git-completion script
    get_url:
      url: https://raw.githubusercontent.com/git/git/v{{ git_version.stdout }}/contrib/completion/git-completion.bash
      dest: ~/.git-completion

  - name: retrieve git-prompt script
    get_url:
      url: https://raw.githubusercontent.com/git/git/v{{ git_version.stdout }}/contrib/completion/git-prompt.sh
      dest: ~/.git-prompt
